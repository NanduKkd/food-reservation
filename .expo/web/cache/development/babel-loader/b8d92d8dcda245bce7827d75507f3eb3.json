{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nvar _class,\n    _temp,\n    _jsxFileName = \"C:\\\\Users\\\\shohrat.garadaghli\\\\Desktop\\\\dev\\\\orderApp\\\\src\\\\screens\\\\Categories\\\\CategoriesScreen.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableHighlight from \"react-native-web/dist/exports/TouchableHighlight\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport styles from \"./styles\";\nimport { categories } from \"../../data/dataArrays\";\nimport { getNumberOfRecipes } from \"../../data/MockDataAPI\";\nimport { connect } from 'react-redux';\nimport { setCategories } from \"../../store/shop/categories\";\nimport App from \"../../API/firebaseConfig\";\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    categories: state.categories\n  };\n};\n\nexport default connect(mapStateToProps, {\n  setCategories: setCategories\n})((_temp = _class = function (_React$Component) {\n  _inherits(CategoriesScreen, _React$Component);\n\n  var _super = _createSuper(CategoriesScreen);\n\n  function CategoriesScreen(props) {\n    var _this;\n\n    _classCallCheck(this, CategoriesScreen);\n\n    _this = _super.call(this, props);\n\n    _this.sendNewCategory = function (category) {\n      App.db.ref(\"categories/\").push(category).then(function (res) {\n        if (res.pieces[1]) {\n          App.db.ref(\"categories/\" + res.pieces[1]).update({\n            id: res.pieces[1]\n          });\n        }\n      });\n    };\n\n    _this.onPressCategory = function (item) {\n      var title = item.name;\n      var category = item;\n\n      _this.props.navigation.navigate('RecipesList', {\n        category: category,\n        title: title\n      });\n    };\n\n    _this.renderCategory = function (_ref) {\n      var item = _ref.item;\n      return React.createElement(TouchableHighlight, {\n        underlayColor: \"rgba(73,182,77,1,0.9)\",\n        onPress: function onPress() {\n          return _this.onPressCategory(item);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 5\n        }\n      }, React.createElement(View, {\n        style: styles.categoriesItemContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 7\n        }\n      }, React.createElement(Image, {\n        style: styles.categoriesPhoto,\n        source: {\n          uri: item.photo_url\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 9\n        }\n      }), React.createElement(Text, {\n        style: styles.categoriesName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 9\n        }\n      }, item.name), React.createElement(Text, {\n        style: styles.categoriesInfo,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 9\n        }\n      }, getNumberOfRecipes(item.id), \" product\")));\n    };\n\n    return _this;\n  }\n\n  _createClass(CategoriesScreen, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.setCategories();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      console.log('props in categories: ', this.props);\n      return React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 7\n        }\n      }, React.createElement(Button, {\n        title: \"create a category\",\n        onPress: function onPress() {\n          return _this2.sendNewCategory({\n            name: 'Cookies',\n            photo_url: 'https://www.telegraph.co.uk/content/dam/Travel/2019/January/france-food.jpg?imwidth=1400'\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 9\n        }\n      }), React.createElement(FlatList, {\n        data: this.props.categories,\n        renderItem: this.renderCategory,\n        keyExtractor: function keyExtractor(item) {\n          return \"\" + item.id;\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 9\n        }\n      }));\n    }\n  }]);\n\n  return CategoriesScreen;\n}(React.Component), _class.navigationOptions = {\n  title: 'Categories'\n}, _temp));","map":{"version":3,"sources":["C:/Users/shohrat.garadaghli/Desktop/dev/orderApp/src/screens/Categories/CategoriesScreen.js"],"names":["React","styles","categories","getNumberOfRecipes","connect","setCategories","App","mapStateToProps","state","props","sendNewCategory","category","db","ref","push","then","res","pieces","update","id","onPressCategory","item","title","name","navigation","navigate","renderCategory","categoriesItemContainer","categoriesPhoto","uri","photo_url","categoriesName","categoriesInfo","console","log","Component","navigationOptions"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {\n  FlatList,\n  Text,\n  View,\n  Image,\n  TouchableHighlight, Button\n} from 'react-native';\nimport styles from './styles';\nimport { categories } from '../../data/dataArrays';\nimport { getNumberOfRecipes } from '../../data/MockDataAPI';\nimport { connect } from 'react-redux';\nimport { setCategories } from '../../store/shop/categories';\nimport App from '../../API/firebaseConfig';\n\n\nconst mapStateToProps=(state)=>({\n  categories:state.categories\n})\n\nexport default connect(mapStateToProps,{setCategories}) (class CategoriesScreen extends React.Component {\n  static navigationOptions = {\n    title: 'Categories'\n  };\n\n  constructor(props) {\n    super(props);\n  }\n  sendNewCategory=(category)=>{\n    App.db.ref(`categories/`).push(category).then(\n      (res)=>{\n        if (res.pieces[1]){\n          App.db.ref(`categories/${res.pieces[1]}`).update({\n            id:res.pieces[1]\n          })\n        }\n      }\n      );\n  }\n  onPressCategory = item => {\n    const title = item.name;\n    const category = item;\n    this.props.navigation.navigate('RecipesList', { category, title });\n  };\n\n  renderCategory = ({ item }) => (\n    <TouchableHighlight underlayColor='rgba(73,182,77,1,0.9)' onPress={() => this.onPressCategory(item)}>\n      <View style={styles.categoriesItemContainer}>\n        <Image style={styles.categoriesPhoto} source={{ uri: item.photo_url }} />\n        <Text style={styles.categoriesName}>{item.name}</Text>\n        <Text style={styles.categoriesInfo}>{getNumberOfRecipes(item.id)} product</Text>\n      </View>\n    </TouchableHighlight>\n  );\n\n  componentDidMount(){\n    this.props.setCategories()\n  }\n  render() {\n    console.log('props in categories: ',this.props)\n    return (\n      <View>\n        <Button title='create a category' onPress={()=>this.sendNewCategory(\n          {\n            name: 'Cookies',\n            photo_url:\n            'https://www.telegraph.co.uk/content/dam/Travel/2019/January/france-food.jpg?imwidth=1400'\n        }\n        )}/>\n        <FlatList\n          data={this.props.categories}\n          renderItem={this.renderCategory}\n          keyExtractor={item => `${item.id}`}\n        />\n        \n      </View>\n    );\n  }\n})\n"]},"metadata":{},"sourceType":"module"}