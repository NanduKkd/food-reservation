{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport App from \"../../API/firebaseConfig\";\nvar SET_CATEGORIES = 'SET_CATEGORIES';\nexport var MODULE_NAME = \"categories\";\nexport var selectCategories = function selectCategories(state) {\n  return state[MODULE_NAME];\n};\nvar initialState = {\n  categories: [{\n    id: 3,\n    name: 'Cookies',\n    photo_url: 'https://www.telegraph.co.uk/content/dam/Travel/2019/January/france-food.jpg?imwidth=1400'\n  }, {\n    id: 1,\n    name: 'Mexican Food',\n    photo_url: 'https://ak1.picdn.net/shutterstock/videos/19498861/thumb/1.jpg'\n  }, {\n    id: 2,\n    name: 'Italian Food',\n    photo_url: 'https://images.unsplash.com/photo-1533777324565-a040eb52facd?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&w=1000&q=80'\n  }, {\n    id: 4,\n    name: 'Smoothies',\n    photo_url: 'https://hips.hearstapps.com/hmg-prod.s3.amazonaws.com/images/still-life-of-three-fresh-smoothies-in-front-of-royalty-free-image-561093647-1544042068.jpg?crop=0.715xw:0.534xh;0.0945xw,0.451xh&resize=768:*'\n  }, {\n    id: 0,\n    name: 'Pizza',\n    photo_url: 'https://amp.businessinsider.com/images/5c084bf7bde70f4ea53f0436-750-563.jpg'\n  }]\n};\n\nfunction reducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n\n  var _ref = arguments.length > 1 ? arguments[1] : undefined,\n      type = _ref.type,\n      payload = _ref.payload;\n\n  switch (type) {\n    case SET_CATEGORIES:\n      return payload;\n\n    default:\n      return state;\n  }\n}\n\nexport default reducer;\nexport var setCategories = function setCategories() {\n  return function _callee(dispatch) {\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            console.log('inside set action');\n\n            try {\n              fetch('https://restaurant-reservation-33a36.firebaseio.com/products.json', {\n                method: 'GET',\n                headers: {\n                  Accept: 'application/json',\n                  'Content-Type': 'application/json'\n                }\n              }).then(function (resp) {\n                return resp.json();\n              }).then(function (data) {\n                dispatch({\n                  type: 'SET_CATEGORIES',\n                  payload: data\n                });\n              });\n            } catch (error) {\n              Alert.alert(error.message);\n            }\n\n          case 2:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n};","map":{"version":3,"sources":["C:/Users/shohrat.garadaghli/Desktop/dev/orderApp/src/store/shop/categories.js"],"names":["App","SET_CATEGORIES","MODULE_NAME","selectCategories","state","initialState","categories","id","name","photo_url","reducer","type","payload","setCategories","dispatch","console","log","fetch","method","headers","Accept","then","resp","json","data","error","Alert","alert","message"],"mappings":";;AACA,OAAOA,GAAP;AAGA,IAAMC,cAAc,GAAC,gBAArB;AAGA,OAAO,IAAMC,WAAW,GAAG,YAApB;AACP,OAAO,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACC,KAAD;AAAA,SAAWA,KAAK,CAACF,WAAD,CAAhB;AAAA,CAAzB;AAIP,IAAMG,YAAY,GAAG;AACjBC,EAAAA,UAAU,EAAC,CACP;AACIC,IAAAA,EAAE,EAAE,CADR;AAEIC,IAAAA,IAAI,EAAE,SAFV;AAGIC,IAAAA,SAAS,EACT;AAJJ,GADO,EAOP;AACIF,IAAAA,EAAE,EAAE,CADR;AAEIC,IAAAA,IAAI,EAAE,cAFV;AAGIC,IAAAA,SAAS,EAAE;AAHf,GAPO,EAYP;AACIF,IAAAA,EAAE,EAAE,CADR;AAEIC,IAAAA,IAAI,EAAE,cAFV;AAGIC,IAAAA,SAAS,EACP;AAJN,GAZO,EAkBP;AACIF,IAAAA,EAAE,EAAE,CADR;AAEIC,IAAAA,IAAI,EAAE,WAFV;AAGIC,IAAAA,SAAS,EACT;AAJJ,GAlBO,EAwBP;AACIF,IAAAA,EAAE,EAAE,CADR;AAEIC,IAAAA,IAAI,EAAE,OAFV;AAGIC,IAAAA,SAAS,EAAE;AAHf,GAxBO;AADM,CAArB;;AAiCA,SAASC,OAAT,GAA0D;AAAA,MAAzCN,KAAyC,uEAAjCC,YAAiC;;AAAA;AAAA,MAAjBM,IAAiB,QAAjBA,IAAiB;AAAA,MAAXC,OAAW,QAAXA,OAAW;;AACxD,UAAQD,IAAR;AACI,SAAKV,cAAL;AACI,aAAOW,OAAP;;AACJ;AACE,aAAOR,KAAP;AAJN;AAMD;;AAED,eAAeM,OAAf;AAGA,OAAO,IAAMG,aAAa,GAAG,SAAhBA,aAAgB;AAAA,SAAM,iBACjCC,QADiC;AAAA;AAAA;AAAA;AAAA;AAG/BC,YAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;;AACF,gBAAI;AACFC,cAAAA,KAAK,CAAC,mEAAD,EACL;AACEC,gBAAAA,MAAM,EAAE,KADV;AAEEC,gBAAAA,OAAO,EAAC;AACNC,kBAAAA,MAAM,EAAE,kBADF;AAEN,kCAAe;AAFT;AAFV,eADK,CAAL,CAOGC,IAPH,CAOQ,UAAAC,IAAI;AAAA,uBAAEA,IAAI,CAACC,IAAL,EAAF;AAAA,eAPZ,EAO2BF,IAP3B,CAOgC,UAAAG,IAAI,EAAE;AACpCV,gBAAAA,QAAQ,CAAC;AAACH,kBAAAA,IAAI,EAAC,gBAAN;AAAuBC,kBAAAA,OAAO,EAACY;AAA/B,iBAAD,CAAR;AACD,eATD;AAWD,aAZD,CAYE,OAAOC,KAAP,EAAc;AACdC,cAAAA,KAAK,CAACC,KAAN,CAAYF,KAAK,CAACG,OAAlB;AACD;;AAlBgC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAN;AAAA,CAAtB","sourcesContent":["import { Alert } from \"react-native\";\r\nimport App from \"../../API/firebaseConfig\";\r\n\r\n// ACTION TYPES\r\nconst SET_CATEGORIES='SET_CATEGORIES'\r\n\r\n// SELECTORS\r\nexport const MODULE_NAME = \"categories\";\r\nexport const selectCategories = (state) => state[MODULE_NAME];\r\n\r\n\r\n// REDUCER\r\nconst initialState = {\r\n    categories:[\r\n        {\r\n            id: 3,\r\n            name: 'Cookies',\r\n            photo_url:\r\n            'https://www.telegraph.co.uk/content/dam/Travel/2019/January/france-food.jpg?imwidth=1400'\r\n        },\r\n        {\r\n            id: 1,\r\n            name: 'Mexican Food',\r\n            photo_url: 'https://ak1.picdn.net/shutterstock/videos/19498861/thumb/1.jpg'\r\n        },\r\n        {\r\n            id: 2,\r\n            name: 'Italian Food',\r\n            photo_url:\r\n              'https://images.unsplash.com/photo-1533777324565-a040eb52facd?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&w=1000&q=80'\r\n        },\r\n        {\r\n            id: 4,\r\n            name: 'Smoothies',\r\n            photo_url:\r\n            'https://hips.hearstapps.com/hmg-prod.s3.amazonaws.com/images/still-life-of-three-fresh-smoothies-in-front-of-royalty-free-image-561093647-1544042068.jpg?crop=0.715xw:0.534xh;0.0945xw,0.451xh&resize=768:*'\r\n        },\r\n        {\r\n            id: 0,\r\n            name: 'Pizza',\r\n            photo_url: 'https://amp.businessinsider.com/images/5c084bf7bde70f4ea53f0436-750-563.jpg'\r\n        },\r\n    ]\r\n};\r\n\r\nfunction reducer(state = initialState, { type, payload }) {\r\n  switch (type) {\r\n      case SET_CATEGORIES:\r\n          return payload\r\n      default:\r\n        return state\r\n  }\r\n}\r\n\r\nexport default reducer\r\n\r\n//action creators\r\nexport const setCategories = () => async (\r\n  dispatch\r\n) => {\r\n    console.log('inside set action');\r\n  try {\r\n    fetch('https://restaurant-reservation-33a36.firebaseio.com/products.json',\r\n    {\r\n      method: 'GET',\r\n      headers:{\r\n        Accept: 'application/json',\r\n        'Content-Type':'application/json'\r\n      }\r\n    }).then(resp=>resp.json()).then(data=>{\r\n      dispatch({type:'SET_CATEGORIES',payload:data});\r\n    })\r\n    \r\n  } catch (error) {\r\n    Alert.alert(error.message);\r\n  }\r\n};"]},"metadata":{},"sourceType":"module"}